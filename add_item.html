<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>üõí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
    body {
        background: #f0f4f8;
        font-family: "Sarabun", "Segoe UI", sans-serif;
        color: #2c3e50;
    }
    h1, .card-header {
        font-weight: 700;
        color: #27ae60;
    }
    h1 {
        text-align: center;
        margin-bottom: 2rem;
        font-size: 2rem;
        text-shadow: 1px 1px 3px #a3d9a5;
    }
    .card {
        border-radius: 16px;
        box-shadow: 0 8px 20px rgba(39, 174, 96, 0.15);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        background: white;
    }
    .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 14px 40px rgba(39, 174, 96, 0.3);
    }
    .card-header {
        background: linear-gradient(90deg, #27ae60, #2ecc71);
        color: white;
        font-size: 1.25rem;
        text-align: center;
        padding: 1.25rem;
        letter-spacing: 0.05em;
    }
    label {
        font-weight: 600;
        color: #145a32;
    }
    .form-control, .form-select {
        border-radius: 10px;
        box-shadow: none;
        border: 1.8px solid #27ae60;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    .form-control:focus, .form-select:focus {
        border-color: #2ecc71;
        box-shadow: 0 0 8px rgba(46, 204, 113, 0.5);
        outline: none;
    }
    .btn {
        border-radius: 12px;
        font-weight: 600;
        padding: 0.6rem 2rem;
        box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    .btn-success {
        background-color: #27ae60;
        border: none;
    }
    .btn-success:hover {
        background-color: #2ecc71;
        box-shadow: 0 6px 20px rgba(46, 204, 113, 0.6);
    }
    .btn-secondary {
        background-color: #95a5a6;
        border: none;
    }
    .btn-secondary:hover {
        background-color: #7f8c8d;
    }
    #newUnitContainer {
        transition: all 0.3s ease;
    }
</style>
</head>
<body>

<div class="container mt-5 d-flex justify-content-center">
    <div class="col-lg-6 col-md-8 col-sm-10">
        <h1>üõí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</h1>
        <div class="card shadow-sm">
            <div class="card-header">
                ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
            </div>
            <div class="card-body">
                <form method="post" enctype="multipart/form-data" novalidate>
                    {% csrf_token %}
                    
                    <div class="mb-4">
                        <label for="company" class="form-label">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó <span class="text-danger">*</span></label>
                        <select name="company" id="company" class="form-select" required>
                            <option value="" disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó --</option>
                            <option value="CSW">CSW</option>
                            <option value="PFF">PFF</option>
                        </select>
                    </div>

                    <div class="mb-4">
                        <label for="name" class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ <span class="text-danger">*</span></label>
                        <input type="text" name="name" id="name" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î" required>
                    </div>

                    <div class="mb-4">
                        <label for="code" class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ <span class="text-danger">*</span></label>
                        <input type="text" name="code" id="code" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô PROD-001" required>
                    </div>

                    <div class="mb-4">
                        <label for="quantity" class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô <span class="text-danger">*</span></label>
                        <input type="number" name="quantity" id="quantity" class="form-control" min="0" placeholder="‡πÄ‡∏ä‡πà‡∏ô 50" required>
                    </div>

                    <div class="mb-4">
                        <label for="unit" class="form-label">‡∏´‡∏ô‡πà‡∏ß‡∏¢ <span class="text-danger">*</span></label>
                        <select name="unit" id="unit" class="form-select" required>
                            <option value="" disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢ --</option>
                            {% for u in units %}
                            <option value="{{ u.id }}">{{ u.name }}</option>
                            {% endfor %}
                            <option value="__new__">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏´‡∏°‡πà...</option>
                        </select>
                    </div>

                    <div class="mb-4 d-none" id="newUnitContainer">
                        <label for="new_unit" class="form-label">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏´‡∏°‡πà <span class="text-danger">*</span></label>
                        <input type="text" name="new_unit" id="new_unit" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏•‡πà‡∏≠‡∏á, ‡∏•‡∏±‡∏á, ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°">
                    </div>

                    <div class="mb-4">
                        <label for="image" class="form-label">‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                        <input type="file" name="image" id="image" class="form-control" accept="image/*">
                    </div>

                    <div class="d-flex justify-content-center gap-3">
                        <button type="submit" class="btn btn-success">
                            ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                        </button>
                        <a href="{% url 'inventory' %}" class="btn btn-secondary">
                            ‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏´‡∏°‡πà..."
    const unitSelect = document.getElementById('unit');
    const newUnitContainer = document.getElementById('newUnitContainer');
    const newUnitInput = document.getElementById('new_unit');

    unitSelect.addEventListener('change', function() {
        if (this.value === '__new__') {
            newUnitContainer.classList.remove('d-none');
            newUnitInput.setAttribute('required', 'required');
            newUnitInput.focus();
        } else {
            newUnitContainer.classList.add('d-none');
            newUnitInput.removeAttribute('required');
            newUnitInput.value = '';
        }
    });
</script>

</body>
</html>
